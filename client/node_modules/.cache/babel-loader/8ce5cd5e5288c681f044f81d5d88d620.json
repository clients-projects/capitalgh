{"ast":null,"code":"import _objectSpread from \"/home/niscolinx/projects/fxcrypto/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/niscolinx/projects/fxcrypto/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/niscolinx/projects/fxcrypto/client/src/containers/ContactUs.js\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Particles from 'react-tsparticles';\nimport * as orderAction from '../store/actions/burgerIndex';\nimport Button from '../main/Button';\nimport Input from '../main/Input';\nimport { required, length, email } from '../util/validators';\nimport Auth from '../main/auth/Auth';\n\nconst Login = props => {\n  const _useState = useState({\n    loginForm: {\n      username: {\n        value: '',\n        valid: false,\n        touched: false,\n        validators: [required, length({\n          min: 6\n        })]\n      },\n      email: {\n        value: '',\n        valid: false,\n        touched: false,\n        validators: [required, email]\n      },\n      message: {\n        value: '',\n        valid: false,\n        touched: false,\n        validators: [required, length({\n          min: 6\n        })]\n      },\n      formIsValid: false\n    }\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        message = _useState4[0],\n        setMessage = _useState4[1];\n\n  useEffect(() => {\n    if (props.err) {\n      setMessage({\n        error: props.err.page === 'login' ? props.err.error[0].message : null\n      });\n    } else if (state.loginForm.formIsValid) {\n      setMessage({\n        success: 'Success'\n      });\n    }\n  }, [props, state]);\n\n  const inputChangeHandler = (input, value) => {\n    setState(prevState => {\n      let isValid = true;\n\n      for (const validator of prevState.loginForm[input].validators) {\n        isValid = isValid && validator(value);\n      }\n\n      const updatedForm = _objectSpread({}, prevState.loginForm, {\n        [input]: _objectSpread({}, prevState.loginForm[input], {\n          valid: isValid,\n          value: value,\n          touched: true\n        })\n      });\n\n      let formIsValid = true;\n\n      for (const inputName in updatedForm) {\n        if (inputName !== 'formIsValid' && inputName !== '[object Object]') {\n          formIsValid = formIsValid && updatedForm[inputName].valid;\n        }\n      }\n\n      return {\n        loginForm: updatedForm,\n        formIsValid: formIsValid\n      };\n    });\n  };\n\n  const inputBlurHandler = input => {};\n\n  const handleLogin = e => {\n    e.preventDefault();\n\n    if (state.formIsValid) {// props.onInitLogin(\n      //     state.loginForm.email.value,\n      //     state.loginForm.password.value\n      // )\n    } else {\n      setMessage({\n        error: 'Wrong Input, please check your entries'\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ReactParticles, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Auth, {\n    contactUs: true,\n    message: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"contactUs__heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, \"Contact Us\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"username\",\n    label: \"Username\",\n    type: \"text\",\n    control: \"input\",\n    minLength: 6,\n    onChange: inputChangeHandler,\n    onBlur: inputBlurHandler.bind('username'),\n    value: state.loginForm['username'].value,\n    valid: state.loginForm['username'].valid,\n    touched: state.loginForm['username'].touched,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    id: \"email\",\n    label: \"E-Mail\",\n    type: \"email\",\n    control: \"input\",\n    onChange: inputChangeHandler,\n    onBlur: inputBlurHandler.bind('email'),\n    value: state.loginForm['email'].value,\n    valid: state.loginForm['email'].valid,\n    touched: state.loginForm['email'].touched,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    id: \"message\",\n    label: \"Message\",\n    type: \"textarea\",\n    control: \"textarea\",\n    rows: 7,\n    onChange: inputChangeHandler,\n    onBlur: inputBlurHandler.bind('message'),\n    value: state.loginForm['message'].value,\n    valid: state.loginForm['message'].valid,\n    touched: state.loginForm['message'].touched,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    design: \"raised\",\n    type: \"submit\",\n    loading: props.loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, \"Send\")))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.user.loading,\n    err: state.auth.error,\n    tokenId: state.auth.tokenId,\n    userId: state.auth.userId\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onInitLogin: (email, password) => dispatch(orderAction.initLogin(email, password))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/niscolinx/projects/fxcrypto/client/src/containers/ContactUs.js"],"names":["React","useState","useEffect","connect","Particles","orderAction","Button","Input","required","length","email","Auth","Login","props","loginForm","username","value","valid","touched","validators","min","message","formIsValid","state","setState","setMessage","err","error","page","success","inputChangeHandler","input","prevState","isValid","validator","updatedForm","inputName","inputBlurHandler","handleLogin","e","preventDefault","bind","loading","mapStateToProps","user","auth","tokenId","userId","mapDispatchToProps","dispatch","onInitLogin","password","initLogin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport Particles from 'react-tsparticles'\n\nimport * as orderAction from '../store/actions/burgerIndex'\n\nimport Button from '../main/Button'\nimport Input from '../main/Input'\n\nimport { required, length, email } from '../util/validators'\nimport Auth from '../main/auth/Auth'\n\nconst Login = (props) => {\n    const [state, setState] = useState({\n        loginForm: {\n            username: {\n                value: '',\n                valid: false,\n                touched: false,\n                validators: [required, length({ min: 6 })],\n            },\n            email: {\n                value: '',\n                valid: false,\n                touched: false,\n                validators: [required, email],\n            },\n            message: {\n                value: '',\n                valid: false,\n                touched: false,\n                validators: [required, length({ min: 6 })],\n            },\n            formIsValid: false,\n        },\n    })\n\n    const [message, setMessage] = useState(null)\n\n    useEffect(() => {\n        if (props.err) {\n            setMessage({\n                error:\n                    props.err.page === 'login'\n                        ? props.err.error[0].message\n                        : null,\n            })\n        } else if (state.loginForm.formIsValid) {\n            setMessage({\n                success: 'Success',\n            })\n        }\n    }, [props, state])\n\n    const inputChangeHandler = (input, value) => {\n        setState((prevState) => {\n            let isValid = true\n            for (const validator of prevState.loginForm[input].validators) {\n                isValid = isValid && validator(value)\n            }\n\n            const updatedForm = {\n                ...prevState.loginForm,\n                [input]: {\n                    ...prevState.loginForm[input],\n                    valid: isValid,\n                    value: value,\n                    touched: true,\n                },\n            }\n            let formIsValid = true\n            for (const inputName in updatedForm) {\n                if (\n                    inputName !== 'formIsValid' &&\n                    inputName !== '[object Object]'\n                ) {\n                    formIsValid = formIsValid && updatedForm[inputName].valid\n                }\n            }\n            return {\n                loginForm: updatedForm,\n                formIsValid: formIsValid,\n            }\n        })\n    }\n\n    const inputBlurHandler = (input) => {}\n\n    const handleLogin = (e) => {\n        e.preventDefault()\n        if (state.formIsValid) {\n            // props.onInitLogin(\n            //     state.loginForm.email.value,\n            //     state.loginForm.password.value\n            // )\n        } else {\n            setMessage({ error: 'Wrong Input, please check your entries' })\n        }\n    }\n\n    return (\n        <>\n            <ReactParticles />\n\n            <Auth contactUs message={message}>\n                <h1 className='contactUs__heading'>Contact Us</h1>\n                <form onSubmit={handleLogin}>\n                    <Input\n                        id='username'\n                        label='Username'\n                        type='text'\n                        control='input'\n                        minLength={6}\n                        onChange={inputChangeHandler}\n                        onBlur={inputBlurHandler.bind('username')}\n                        value={state.loginForm['username'].value}\n                        valid={state.loginForm['username'].valid}\n                        touched={state.loginForm['username'].touched}\n                    />\n                    <Input\n                        id='email'\n                        label='E-Mail'\n                        type='email'\n                        control='input'\n                        onChange={inputChangeHandler}\n                        onBlur={inputBlurHandler.bind('email')}\n                        value={state.loginForm['email'].value}\n                        valid={state.loginForm['email'].valid}\n                        touched={state.loginForm['email'].touched}\n                    />\n                    <Input\n                        id='message'\n                        label='Message'\n                        type='textarea'\n                        control='textarea'\n                        rows={7}\n                        onChange={inputChangeHandler}\n                        onBlur={inputBlurHandler.bind('message')}\n                        value={state.loginForm['message'].value}\n                        valid={state.loginForm['message'].valid}\n                        touched={state.loginForm['message'].touched}\n                    />\n\n                    <div className='form-btn'>\n                        <Button\n                            design='raised'\n                            type='submit'\n                            loading={props.loading}\n                        >\n                            Send\n                        </Button>\n                    </div>\n                </form>\n            </Auth>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        loading: state.user.loading,\n        err: state.auth.error,\n        tokenId: state.auth.tokenId,\n        userId: state.auth.userId,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        onInitLogin: (email, password) =>\n            dispatch(orderAction.initLogin(email, password)),\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\n"]},"metadata":{},"sourceType":"module"}